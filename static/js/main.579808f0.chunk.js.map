{"version":3,"sources":["helpers.js","firebase.js","constants.js","components/Element/styles.js","components/Element/index.js","screens/MainScreen/components/ElementSelector/styles.js","screens/MainScreen/components/ElementSelector/index.js","screens/MainScreen/components/TransformSelector/components/TransformButton/styles.js","screens/MainScreen/components/TransformSelector/components/TransformButton/index.js","screens/MainScreen/components/TransformSelector/styles.js","screens/MainScreen/components/TransformSelector/index.js","screens/MainScreen/components/Canvas/components/Shape/styles.js","screens/MainScreen/components/Canvas/components/Shape/index.js","screens/MainScreen/components/Canvas/styles.js","screens/MainScreen/components/Canvas/index.js","screens/MainScreen/styles.js","screens/MainScreen/index.js","App.js","reportWebVitals.js","index.js"],"names":["extractJsonFromResponse","response","a","Promise","all","docs","map","doc","exists","data","setShapesListener","callback","app","firestore","collectionGroup","onSnapshot","json","console","log","getShapes","get","setLinesListener","getLines","postLine","id","from","to","collection","set","postShape","type","x","y","modifyShape","update","deleteCollection","db","collectionPath","batchSize","collectionRef","query","orderBy","limit","resolve","reject","deleteQueryBatch","catch","snapshot","size","batch","forEach","delete","ref","commit","process","nextTick","clearDb","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","shapes","SQUARE","TRIANGLE","CIRCLE","OVAL","RECTANGLE","transforms","BEND","BREAK","BLEND","CLEAR","Container","styled","div","Square","Triangle","Rectangle","Circle","Oval","Element","shape","addShape","onClick","ElementSelector","Object","values","IconContainer","active","Label","TransformButton","transform","setActiveTransform","clear","icon","faSignature","faBlender","faBolt","faTrashAlt","TransformSelector","activeTransform","width","bent","Shape","breakShape","blendShape","bendShape","useState","setBent","className","setTimeout","Canvas","renderShapes","renderLines","borderColor","borderStyle","zIndex","delay","MainContainer","Title","CanvasContainer","MainScreen","setRenderShapes","setRenderLines","useEffect","lines","newShape","uuidv4","Math","floor","random","find","item","sorted","sort","b","sqrt","pow","closest","newLine","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.579808f0.chunk.js","sourcesContent":["import app from \"./firebase\";\n\nconst extractJsonFromResponse = async (response) =>\n  await Promise.all(\n    response.docs.map((doc) => doc && doc.exists && doc.data())\n  );\n\nexport const setShapesListener = (callback) => {\n  app\n    .firestore()\n    .collectionGroup(\"shapes\")\n    .onSnapshot(async (response) => {\n      try {\n        const json = await extractJsonFromResponse(response);\n        callback(json);\n      } catch (error) {\n        console.log(\"Error: \", error);\n      }\n    });\n};\n\nexport const getShapes = async () => {\n  try {\n    const response = await app.firestore().collectionGroup(\"shapes\").get();\n    return await extractJsonFromResponse(response);\n  } catch (error) {\n    console.log(\"Error: \", error);\n    return [];\n  }\n};\n\nexport const setLinesListener = (callback) => {\n  app\n    .firestore()\n    .collectionGroup(\"lines\")\n    .onSnapshot(async (response) => {\n      try {\n        const json = await extractJsonFromResponse(response);\n        callback(json);\n      } catch (error) {\n        console.log(\"Error: \", error);\n      }\n    });\n};\n\nexport const getLines = async () => {\n  try {\n    const response = await app.firestore().collectionGroup(\"lines\").get();\n    return await extractJsonFromResponse(response);\n  } catch (error) {\n    console.log(\"Error: \", error);\n    return [];\n  }\n};\n\nexport const postLine = async ({ id, from, to }) => {\n  try {\n    return await app\n      .firestore()\n      .collection(\"lines\")\n      .doc(id)\n      .set({ id, from, to });\n  } catch (error) {\n    console.log(\"Error: \", error);\n  }\n};\n\nexport const postShape = async ({ id, type, x, y }) => {\n  try {\n    return await app\n      .firestore()\n      .collection(\"shapes\")\n      .doc(id)\n      .set({ id, type, x, y });\n  } catch (error) {\n    console.log(\"Error: \", error);\n  }\n};\n\nexport const modifyShape = async (id, type) => {\n  return await app.firestore().collection(\"shapes\").doc(id).update({ type });\n};\n\nasync function deleteCollection(db, collectionPath, batchSize) {\n  const collectionRef = db.collection(collectionPath);\n  const query = collectionRef.orderBy(\"__name__\").limit(batchSize);\n\n  return new Promise((resolve, reject) => {\n    deleteQueryBatch(db, query, resolve).catch(reject);\n  });\n}\n\nasync function deleteQueryBatch(db, query, resolve) {\n  const snapshot = await query.get();\n\n  const batchSize = snapshot.size;\n  if (batchSize === 0) {\n    // When there are no documents left, we are done\n    resolve();\n    return;\n  }\n\n  // Delete documents in a batch\n  const batch = db.batch();\n  snapshot.docs.forEach((doc) => {\n    batch.delete(doc.ref);\n  });\n  await batch.commit();\n\n  // Recurse on the next process tick, to avoid\n  // exploding the stack.\n  process.nextTick(() => {\n    deleteQueryBatch(db, query, resolve);\n  });\n}\n\nexport const clearDb = async () => {\n  try {\n    await deleteCollection(app.firestore(), \"shapes\", 100);\n    await deleteCollection(app.firestore(), \"lines\", 100);\n  } catch (error) {\n    console.log(\"Error: \", error);\n  }\n};\n","import firebase from \"firebase\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\n// TODO: WARNING: CONFIGURATION HAS TO BE SET TO ENVIRONMENT BEFORE PRODUCTION YA2EMA HANROO7 FE DAHYA\n\nlet app = firebase.initializeApp({\n  apiKey: \"AIzaSyCfNSRJ1MwbvphUHBNWk1GoANjppfgf87c\",\n  authDomain: \"bendbreakblend.firebaseapp.com\",\n  projectId: \"bendbreakblend\",\n  storageBucket: \"bendbreakblend.appspot.com\",\n  messagingSenderId: \"544472157990\",\n  appId: \"1:544472157990:web:a2f07c433b2cea4d4dfbe7\",\n  measurementId: \"G-YRNFBVSX3Q\",\n});\n\n// firebase.analytics();\n\nexport default app;\n","export const shapes = {\n  SQUARE: \"square\",\n  TRIANGLE: \"triangle\",\n  CIRCLE: \"circle\",\n  OVAL: \"oval\",\n  RECTANGLE: \"rectangle\",\n};\n\nexport const transforms = {\n  BEND: \"bend\",\n  BREAK: \"break\",\n  BLEND: \"blend\",\n  CLEAR: \"clear\",\n};\n","import styled from \"styled-components\";\nimport { shapes } from \"../../constants\";\n\nexport const Container = styled.div`\n  cursor: pointer;\n`;\n\nexport const Square = styled.div`\n  width: 50px;\n  height: 50px;\n  cursor: pointer;\n  background-color: red;\n  transition: 0.1s;\n\n  :hover {\n    width: 60px;\n    height: 60px;\n  }\n`;\n\nexport const Triangle = styled.div`\n  width: 0;\n  height: 0;\n  border-left: 30px solid transparent;\n  border-right: 30px solid transparent;\n\n  border-bottom: 50px solid yellow;\n\n  transition: 0.1s;\n\n  :hover {\n    border-left: 35px solid transparent;\n    border-right: 35px solid transparent;\n\n    border-bottom: 60px solid yellow;\n  }\n`;\n\nexport const Rectangle = styled.div`\n  width: 70px;\n  height: 50px;\n  background-color: green;\n\n  transition: 0.1s;\n\n  :hover {\n    width: 80px;\n    height: 57px;\n  }\n`;\n\nexport const Circle = styled.div`\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background-color: purple;\n\n  transition: 0.1s;\n\n  :hover {\n    width: 60px;\n    height: 60px;\n  }\n`;\n\nexport const Oval = styled.div`\n  width: 80px;\n  height: 50px;\n  border-radius: 50%;\n  background-color: blue;\n\n  transition: 0.1s;\n\n  :hover {\n    width: 90px;\n    height: 56px;\n  }\n`;\n","import React from \"react\";\nimport { Circle, Container, Oval, Rectangle, Square, Triangle } from \"./styles\";\nimport { shapes } from \"../../constants\";\n\nconst Element = ({ shape, addShape }) => (\n  <Container\n    onClick={() => {\n      addShape(shape);\n    }}\n  >\n    {\n      {\n        [shapes.SQUARE]: <Square />,\n        [shapes.CIRCLE]: <Circle />,\n        [shapes.OVAL]: <Oval />,\n        [shapes.RECTANGLE]: <Rectangle />,\n        [shapes.TRIANGLE]: <Triangle />,\n      }[shape]\n    }\n  </Container>\n);\n\nexport default Element;\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  display: flex;\n  width: 130px;\n  background-color: rgba(0, 0, 0, 0.2);\n  border-radius: 60px;\n  margin-left: 1%;\n  flex-flow: column nowrap;\n  justify-content: space-evenly;\n  align-items: center;\n`;\n","import React from \"react\";\nimport Element from \"../../../../components/Element\";\nimport { shapes } from \"../../../../constants\";\nimport { Container } from \"./styles\";\n\nconst ElementSelector = ({ addShape }) => (\n  <Container>\n    {Object.values(shapes).map((shape) => (\n      <Element\n        shape={shape}\n        key={shape}\n        addShape={(type) => {\n          addShape(type);\n        }}\n      />\n    ))}\n  </Container>\n);\n\nexport default ElementSelector;\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  align-items: center;\n  flex: 1;\n  height: 100%;\n`;\n\nexport const IconContainer = styled.div`\n  margin-top: 5px;\n  flex: 1;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: ${({ active }) => (active ? \"30px\" : \"26px\")};\n  cursor: pointer;\n  color: ${({ active }) => (active ? \"#eeeeff\" : \"#c9c9dd\")};\n\n  transition: 0.1s;\n\n  :hover {\n    font-size: 30px;\n    color: #eeeeff;\n  }\n`;\n\nexport const Label = styled.div`\n  color: ${({ active }) => (active ? \"#eeeeff\" : \"#c9c9dd\")};\n  font-weight: ${({ active }) => (active ? \"bold\" : \"normal\")};\n  font-family: Quicksand, Lato, sans-serif;\n  font-size: 14px;\n  padding-bottom: 5px;\n`;\n","import React from \"react\";\nimport { Container, IconContainer, Label } from \"./styles\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faSignature,\n  faBolt,\n  faBlender,\n  faTrashAlt,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { transforms } from \"../../../../../../constants\";\n\nconst TransformButton = ({ transform, active, setActiveTransform, clear }) => (\n  <Container>\n    <IconContainer\n      active={active}\n      onClick={() => {\n        if (transform != transforms.CLEAR) {\n          setActiveTransform(transform);\n        } else {\n          clear();\n        }\n      }}\n    >\n      <FontAwesomeIcon\n        icon={\n          {\n            [transforms.BEND]: faSignature,\n            [transforms.BLEND]: faBlender,\n            [transforms.BREAK]: faBolt,\n            [transforms.CLEAR]: faTrashAlt,\n          }[transform]\n        }\n      />\n    </IconContainer>\n    <Label active={active}>\n      {\n        {\n          [transforms.BEND]: \"Bend\",\n          [transforms.BLEND]: \"Blend\",\n          [transforms.BREAK]: \"Break\",\n          [transforms.CLEAR]: \"Clear\",\n        }[transform]\n      }\n    </Label>\n  </Container>\n);\n\nexport default TransformButton;\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  display: flex;\n  height: 65px;\n  width: 20%;\n  background-color: rgba(0, 0, 0, 0.2);\n  border-radius: 60px;\n  margin-top: 1%;\n  flex-flow: row nowrap;\n  justify-content: space-evenly;\n  align-items: center;\n`;\n","import React from \"react\";\nimport { transforms } from \"../../../../constants\";\nimport TransformButton from \"./components/TransformButton\";\nimport { Container } from \"./styles\";\n\nconst TransformSelector = ({ activeTransform, setActiveTransform, clear }) => (\n  <Container>\n    {Object.values(transforms).map((transform) => (\n      <TransformButton\n        active={activeTransform == transform}\n        setActiveTransform={setActiveTransform}\n        transform={transform}\n        key={transform}\n        clear={() => {\n          clear();\n        }}\n      />\n    ))}\n  </Container>\n);\n\nexport default TransformSelector;\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  cursor: pointer;\n  position: absolute;\n  z-index: 100;\n  left: ${({ x }) => `${x}px`};\n  top: ${({ y }) => `${y}px`};\n`;\n\nexport const Square = styled.div`\n  z-index: 100;\n  transition: all 0.5s;\n  width: ${({ width }) => width}px;\n  height: 50px;\n  cursor: pointer;\n  background-color: ${({ bent }) => (bent ? \"green\" : \"red\")};\n`;\n\nexport const Triangle = styled.div`\n  z-index: 1000;\n  width: ${({ bent }) => (!bent ? 0 : 50)}px;\n  height: ${({ bent }) => (!bent ? 0 : 50)}px;\n  border-left: ${({ bent }) => (!bent ? \"30px solid transparent\" : \"none\")};\n  border-right: ${({ bent }) => (!bent ? \"30px solid transparent\" : \"none\")};\n  border-bottom: ${({ bent }) => (!bent ? \"50px solid yellow\" : \"none\")};\n  background-color: ${({ bent }) => (!bent ? \"none\" : \"red\")};\n  transition: all 0.5s;\n`;\n\nexport const Rectangle = styled.div`\n  z-index: 1000;\n  width: ${({ bent }) => (bent ? 0 : 70)}px;\n  height: ${({ bent }) => (bent ? 0 : 50)}px;\n  border-left: ${({ bent }) => (bent ? \"30px solid transparent\" : \"none\")};\n  border-right: ${({ bent }) => (bent ? \"30px solid transparent\" : \"none\")};\n  border-bottom: ${({ bent }) => (bent ? \"50px solid yellow\" : \"none\")};\n  background-color: ${({ bent }) => (bent ? \"none\" : \"green\")};\n  transition: all 0.5s;\n`;\n\nexport const Circle = styled.div`\n  width: ${({ width }) => width}px;\n  transition: all 0.5s;\n  height: 50px;\n  border-radius: 50%;\n  background-color: ${({ bent }) => (bent ? \"blue\" : \"purple\")};\n`;\n\nexport const Oval = styled.div`\n  width: ${({ width }) => width}px;\n  height: 50px;\n  transition: all 0.5s;\n  border-radius: 50%;\n  background-color: ${({ bent }) => (bent ? \"purple\" : \"blue\")};\n`;\n","import React, { useState } from \"react\";\nimport { Container, Square, Circle, Oval, Rectangle, Triangle } from \"./styles\";\nimport { shapes, transforms } from \"../../../../../../constants\";\n\nconst Shape = ({\n  id,\n  type,\n  x,\n  y,\n  activeTransform,\n  breakShape,\n  blendShape,\n  bendShape,\n}) => {\n  const [bent, setBent] = useState(false);\n  return (\n    <Container className={`${id}`} x={x} y={y}>\n      {\n        {\n          [shapes.SQUARE]: (\n            <Square\n              width={bent ? 70 : 50}\n              bent={bent}\n              onClick={() => {\n                switch (activeTransform) {\n                  case transforms.BEND:\n                    setBent(true);\n                    setTimeout(() => {\n                      bendShape(id);\n                      setBent(false);\n                    }, 500);\n                    break;\n                  case transforms.BREAK:\n                    breakShape(id);\n                    break;\n                  case transforms.BLEND:\n                    blendShape(id);\n                    break;\n                }\n              }}\n            />\n          ),\n          [shapes.CIRCLE]: (\n            <Circle\n              width={bent ? 80 : 50}\n              bent={bent}\n              onClick={() => {\n                switch (activeTransform) {\n                  case transforms.BEND:\n                    setBent(true);\n                    setTimeout(() => {\n                      bendShape(id);\n                      setBent(false);\n                    }, 500);\n                    break;\n                  case transforms.BREAK:\n                    breakShape(id);\n                    break;\n                  case transforms.BLEND:\n                    blendShape(id);\n                    break;\n                }\n              }}\n            />\n          ),\n          [shapes.OVAL]: (\n            <Oval\n              width={bent ? 50 : 80}\n              bent={bent}\n              onClick={() => {\n                switch (activeTransform) {\n                  case transforms.BEND:\n                    setBent(true);\n                    setTimeout(() => {\n                      bendShape(id);\n                      setBent(false);\n                    }, 500);\n                    break;\n                  case transforms.BREAK:\n                    breakShape(id);\n                    break;\n                  case transforms.BLEND:\n                    blendShape(id);\n                    break;\n                }\n              }}\n            />\n          ),\n          [shapes.RECTANGLE]: (\n            <Rectangle\n              bent={bent}\n              onClick={() => {\n                switch (activeTransform) {\n                  case transforms.BEND:\n                    setBent(true);\n                    setTimeout(() => {\n                      bendShape(id);\n                      setBent(false);\n                    }, 500);\n                    break;\n                  case transforms.BREAK:\n                    breakShape(id);\n                    break;\n                  case transforms.BLEND:\n                    blendShape(id);\n                    break;\n                }\n              }}\n            />\n          ),\n          [shapes.TRIANGLE]: (\n            <Triangle\n              bent={bent}\n              onClick={() => {\n                switch (activeTransform) {\n                  case transforms.BEND:\n                    setBent(true);\n                    setTimeout(() => {\n                      bendShape(id);\n                      setBent(false);\n                    }, 500);\n                    break;\n                  case transforms.BREAK:\n                    breakShape(id);\n                    break;\n                  case transforms.BLEND:\n                    blendShape(id);\n                    break;\n                }\n              }}\n            />\n          ),\n        }[type]\n      }\n    </Container>\n  );\n};\n\nexport default Shape;\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  z-index: 0;\n  position: fixed;\n  width: 1500px;\n  height: 1000px;\n  background-color: rgba(255, 255, 255, 0.4);\n  border-radius: 30px;\n  margin-right: 130px;\n`;\n","import React from \"react\";\nimport Shape from \"./components/Shape\";\nimport LineTo from \"react-lineto\";\nimport { Container } from \"./styles\";\n\nconst Canvas = ({\n  renderShapes,\n  renderLines,\n  activeTransform,\n  breakShape,\n  blendShape,\n  bendShape,\n}) => (\n  <Container>\n    {renderShapes.map(({ id, type, x, y }) => (\n      <Shape\n        key={id}\n        id={id}\n        type={type}\n        x={x}\n        y={y}\n        activeTransform={activeTransform}\n        breakShape={breakShape}\n        blendShape={blendShape}\n        bendShape={bendShape}\n      />\n    ))}\n    {renderLines.map(({ id, from, to }) => (\n      <LineTo\n        borderColor=\"black\"\n        borderStyle=\"solid\"\n        zIndex={1}\n        delay={0}\n        key={id}\n        from={`${from}`}\n        to={`${to}`}\n      />\n    ))}\n  </Container>\n);\n\nexport default Canvas;\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  display: flex;\n  flex-flow: column nowrap;\n  width: 100%;\n  height: 100%;\n  min-height: 100vh;\n  background-color: #cccccc;\n  background: radial-gradient(white, #cccccc 60%, gray);\n  justify-content: space-between;\n  align-items: center;\n`;\n\nexport const MainContainer = styled.div`\n  display: flex;\n  flex: 1;\n  flex-flow: row nowrap;\n  width: 100%;\n`;\n\nexport const Title = styled.div`\n  color: #eeeeff;\n  font-family: Lato, Quicksand, sans-serif;\n  font-weight: bold;\n  font-size: 100px;\n  text-align: center;\n  text-shadow: 0px 0px 40px rgba(0, 0, 0, 0.5);\n  margin-right: 10px;\n  margin-left: 10px;\n  @media all and (max-width: 800px) {\n    font-weight: 400;\n    font-size: 70px;\n  }\n  @media all and (max-width: 500px) {\n    font-weight: 400;\n    font-size: 43px;\n  }\n`;\n\nexport const CanvasContainer = styled.div`\n  flex: 1;\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const Canvas = styled.div`\n  width: 1500px;\n  height: 1000px;\n  background-color: rgba(255, 255, 255, 0.4);\n  border-radius: 30px;\n  margin-right: 130px;\n`;\n","import React, { useState, useEffect } from \"react\";\nimport { shapes, transforms } from \"../../constants\";\nimport ElementSelector from \"./components/ElementSelector\";\nimport TransformSelector from \"./components/TransformSelector\";\nimport Canvas from \"./components/Canvas\";\nimport { CanvasContainer, Container, MainContainer, Title } from \"./styles\";\nimport {\n  getLines,\n  getShapes,\n  modifyShape,\n  postShape,\n  setLinesListener,\n  setShapesListener,\n  postLine,\n  clearDb,\n} from \"../../helpers\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nconst MainScreen = () => {\n  const [activeTransform, setActiveTransform] = useState(transforms.BEND);\n  const [renderShapes, setRenderShapes] = useState([]);\n  const [renderLines, setRenderLines] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      const shapes = await getShapes();\n      setRenderShapes(shapes);\n    })();\n    (async () => {\n      const lines = await getLines();\n      setRenderLines(lines);\n    })();\n  }, []);\n\n  useEffect(() => {\n    setShapesListener((shapes) => {\n      setRenderShapes(shapes);\n    });\n    setLinesListener((lines) => {\n      setRenderLines(lines);\n    });\n  }, []);\n\n  const bendShape = (id) => {\n    const shape = renderShapes.find((item) => item.id == id);\n    switch (shape.type) {\n      case shapes.SQUARE: {\n        shape.type = shapes.RECTANGLE;\n        break;\n      }\n      case shapes.RECTANGLE: {\n        shape.type = shapes.TRIANGLE;\n        break;\n      }\n      case shapes.TRIANGLE: {\n        shape.type = shapes.SQUARE;\n        break;\n      }\n      case shapes.CIRCLE: {\n        shape.type = shapes.OVAL;\n        break;\n      }\n      case shapes.OVAL: {\n        shape.type = shapes.CIRCLE;\n        break;\n      }\n      default:\n        break;\n    }\n    modifyShape(id, shape.type);\n  };\n\n  const breakShape = (id) => {\n    const shape = renderShapes.find((item) => item.id == id);\n    const newShape = { ...shape };\n    newShape.id = uuidv4();\n    const width = {\n      [shapes.RECTANGLE]: 70,\n      [shapes.SQUARE]: 50,\n      [shapes.TRIANGLE]: 50,\n      [shapes.OVAL]: 80,\n      [shapes.CIRCLE]: 50,\n    }[shape.type];\n    const height = 50;\n    if (shape.x >= 1500 - width) {\n      newShape.x -= width + 5 + Math.floor(Math.random() * 10);\n    } else {\n      newShape.x += width + 5 + Math.floor(Math.random() * 10);\n    }\n\n    if (shape.y >= 1000 - height) {\n      newShape.y -= Math.floor(Math.random() * 10);\n    } else {\n      newShape.y += Math.floor(Math.random() * 10);\n    }\n    postShape(newShape);\n  };\n\n  const blendShape = (id) => {\n    const shape = renderShapes.find((item) => item.id == id);\n    const sorted = [...renderShapes];\n    sorted.sort((a, b) => {\n      const distA = Math.sqrt(\n        Math.pow(a.x - shape.x, 2) + Math.pow(a.y - shape.y, 2)\n      );\n      const distB = Math.sqrt(\n        Math.pow(b.x - shape.x, 2) + Math.pow(b.y - shape.y, 2)\n      );\n      return distA - distB;\n    });\n    const closest = sorted[1];\n    const newLine = {\n      id: uuidv4(),\n      from: shape.id,\n      to: closest.id,\n    };\n    postLine(newLine);\n  };\n\n  const clear = () => {\n    clearDb();\n  };\n\n  const addShape = (type) => {\n    const newShape = {\n      id: uuidv4(),\n      type,\n      x: Math.floor(Math.random() * 1420),\n      y: Math.floor(Math.random() * 920),\n    };\n    postShape(newShape);\n  };\n\n  return (\n    <Container>\n      <Title>Bend, Break, Blend!</Title>\n      <TransformSelector\n        activeTransform={activeTransform}\n        setActiveTransform={setActiveTransform}\n        clear={() => {\n          clear();\n        }}\n      />\n      <MainContainer>\n        <ElementSelector\n          addShape={(type) => {\n            addShape(type);\n          }}\n        />\n        <CanvasContainer>\n          <Canvas\n            renderShapes={renderShapes}\n            renderLines={renderLines}\n            activeTransform={activeTransform}\n            bendShape={bendShape}\n            breakShape={breakShape}\n            blendShape={blendShape}\n          />\n        </CanvasContainer>\n      </MainContainer>\n    </Container>\n  );\n};\n\nexport default MainScreen;\n","import \"./App.css\";\nimport MainScreen from \"./screens/MainScreen\";\n\nfunction App() {\n  return <MainScreen />;\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}